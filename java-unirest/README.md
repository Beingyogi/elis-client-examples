# Elis client example in Java & Unirest & Gradle

## Check the code

- `src/main/java/ai/rossum/elis/example/`
  - [SimpleElisClient.java](src/main/java/ai/rossum/elis/example/SimpleElisClient.java)
  - [ElisExampleApp.java](src/main/java/ai/rossum/elis/example/ElisExampleApp.java)


[Unirest library docs](http://unirest.io/java.html).

## Usage

Build the example app, submit a document and wait for the result processed by Elis API:

```
./gradlew run -PappArgs="['../data/invoice.png', 'https://all.rir.rossum.ai', 'xxxxxxxxxxxxxxxxxxxxxx_YOUR_ELIS_API_KEY_xxxxxxxxxxxxxxxxxxxxxxx']"
```

### Example output

```
Starting a Gradle Daemon (subsequent builds will be faster)

> Task :run
Submitting document: ../data/invoice.png
Content type: image/png
Submit result: {"id":"9a92d6c3699e18dce4c4bc17","status":"processing"}
Document id: 9a92d6c3699e18dce4c4bc17
Waiting... 0.0 s / 150.0 s
Result: {"message":"Processing invoice...","status":"processing"}
Waiting... 5.0 s / 150.0 s
Waiting... 10.0 s / 150.0 s
Waiting... 15.0 s / 150.0 s
Waiting... 20.0 s / 150.0 s
Waiting... 25.0 s / 150.0 s
Waiting... 30.0 s / 150.0 s
Waiting... 35.0 s / 150.0 s
Waiting... 40.0 s / 150.0 s
Waiting... 45.0 s / 150.0 s
Waiting... 50.0 s / 150.0 s
Document successfully processed:
{"preview":"https://all.rir.rossum.ai/img/9a92d6c3699e18dce4c4bc17_0.png","original_pages":["https://all.rir.rossum.ai/img/o_9a92d6c3699e18dce4c4bc17_0.png"],"full_text":{"name":"full_text","title":"Rough Content","content":["gordlner Ineobald Gardiner & Theobald LLP\n","Management Services\n","The G1 Building\n","5 George Square\n","Glasgow G2 1DY\n",". T 4(0)141 568 7333\n","f 44(0)141 568 7345\n","e:\n","www.gardiner.com\n","Invoice\n","Date & Tax Point 1st May 2014                                                       \"1                      =\n","To FIFE COLLEGE                            \u201eFife COHGÉ; C                    ;\n"," Pittsburgh Road                                                         ř -              z\n","Dunfermline\n","tv 2014\n","z KY11 8DY                                                          HM                                                   |r\n","F.A.O. Mr Davie Neilson                                                                  :!\n","RECEIVED  -                          |,\n","Invoice No MSG/5946\n","Job Ref 88/31035/05\n","VAT Reg. No. 832 7762 12                                                                                     i\n","FIFE COLLEGE E l\n","To:\n","Provision of Project Management Services                                                                         |\n","relative to Estates Strategy Planning & Business Case 25,474.00                   ;\n","|                                                                                                                                                                                                 ]\n",". Sub Total Exclusive of VAT 25,474.00 .\n","Value Added Tax Q 20% 5,094.80                    z\n","TOTAL AMOUNT DUE                                L&M\u2026 E30,568.80 .\n","3                        |\n","DNO               |\n",".\n","Nª                  |\n","Mªªžkxšªnë\n",". Cheques to be made payable to Gardiner Theobald LLP alternatively payment may be made directly to our bank account:                          ,\n","HSBC Bank PLC Sort Code 40-02-02  Account No. 00375152                                                                 |.\n","Gardiner & Theobald LLP is a limited iblity patnerahip (Regulated by RICS) which ls cegistered in England and Wales with regietered No. 0C307124                                   z\n","A let of mambars names i avallabl fr inspacíion at 0 South Cresceni, London WC1E 7BD, the fris principal place of busines and registered effice                              [\n\n"]},"previews":["https://all.rir.rossum.ai/img/9a92d6c3699e18dce4c4bc17_0.png"],"currency":"gbp","language":"eng","text_lines":{"name":"text_lines","title":"Rough Content","content":[["gordlner Ineobald Gardiner & Theobald LLP\n","Management Services\n","The G1 Building\n","5 George Square\n","Glasgow G2 1DY\n",". T 4(0)141 568 7333\n","f 44(0)141 568 7345\n","e:\n","www.gardiner.com\n","Invoice\n","Date & Tax Point 1st May 2014                                                       \"1                      =\n","To FIFE COLLEGE                            \u201eFife COHGÉ; C                    ;\n"," Pittsburgh Road                                                         ř -              z\n","Dunfermline\n","tv 2014\n","z KY11 8DY                                                          HM                                                   |r\n","F.A.O. Mr Davie Neilson                                                                  :!\n","RECEIVED  -                          |,\n","Invoice No MSG/5946\n","Job Ref 88/31035/05\n","VAT Reg. No. 832 7762 12                                                                                     i\n","FIFE COLLEGE E l\n","To:\n","Provision of Project Management Services                                                                         |\n","relative to Estates Strategy Planning & Business Case 25,474.00                   ;\n","|                                                                                                                                                                                                 ]\n",". Sub Total Exclusive of VAT 25,474.00 .\n","Value Added Tax Q 20% 5,094.80                    z\n","TOTAL AMOUNT DUE                                L&M\u2026 E30,568.80 .\n","3                        |\n","DNO               |\n",".\n","Nª                  |\n","Mªªžkxšªnë\n",". Cheques to be made payable to Gardiner Theobald LLP alternatively payment may be made directly to our bank account:                          ,\n","HSBC Bank PLC Sort Code 40-02-02  Account No. 00375152                                                                 |.\n","Gardiner & Theobald LLP is a limited iblity patnerahip (Regulated by RICS) which ls cegistered in England and Wales with regietered No. 0C307124                                   z\n","A let of mambars names i avallabl fr inspacíion at 0 South Cresceni, London WC1E 7BD, the fris principal place of busines and registered effice                              [\n\n"]]},"fields":[{"score":0.9464505145365139,"value_type":"text","checks":{},"bbox":[745,1626,833,1644],"name":"account_num","page":0,"title":"Bank Account","value":"00375152","content":"00375152"},{"score":0.9414436525123163,"value_type":"text","checks":{},"bbox":[571,1620,645,1644],"name":"bank_num","page":0,"title":"Sort Code","value":"40-02-02","content":"40-02-02"},{"score":0.893662839299727,"value_type":"number","checks":{},"bbox":[954,1128,1078,1158],"name":"amount_total_base","page":0,"title":"Tax Base Total","value":"25474.00","content":"25,474.00"},{"score":0.9242075229081901,"value_type":"number","checks":{"amount_equations":"good"},"bbox":[967,1170,1077,1206],"name":"amount_total_tax","page":0,"title":"Tax Total","value":"5094.80","content":"5,094.80"},{"score":0.8203908543475933,"value_type":"number","checks":{"amount_equations":"bad"},"bbox":[953,1128,1077,1158],"name":"amount_total_tax","page":0,"title":"Tax Total","value":"25474.00","content":"25,474.00"},{"score":0.9389307049737713,"value_type":"number","checks":{"amount_equations":"good"},"bbox":[961,1236,1075,1278],"name":"amount_total","page":0,"title":"Total Amount","value":"30568.80","content":"30,568.80"},{"score":0.9543036708524747,"value_type":"number","checks":{"amount_equations":"good"},"bbox":[962,1236,1076,1278],"name":"amount_due","page":0,"title":"Amount Due","value":"30568.80","content":"30,568.80"},{"score":0.9100742983558363,"value_type":"date","checks":{},"bbox":[406,486,562,516],"name":"date_issue","page":0,"title":"Issue Date","value":"2014-05-01","content":"1st May 2014"},{"score":0.7839149070493172,"value_type":"date","checks":{},"bbox":[406,498,562,516],"name":"date_uzp","page":0,"title":"Tax Point Date","value":"2014-05-01","content":"1St May 2014"},{"score":0.8684346568804068,"value_type":"date","checks":{},"bbox":[406,486,562,516],"name":"date_due","page":0,"title":"Date Due","value":"2014-05-01","content":"1st May 2014"},{"score":0.7995019688156906,"value_type":"text","checks":{},"bbox":[402,750,538,780],"name":"invoice_id","page":0,"title":"Invoice Identifier","value":"MSG/5946","content":"MSG/5946"},{"score":0.905584340835282,"value_type":"text","checks":{},"bbox":[401,846,551,876],"name":"sender_dic","page":0,"title":"Supplier VAT Number","value":"832776212","content":"832 7762 12"},{"score":0.8746814199418408,"value_type":"text","checks":{},"bbox":[849,168,1067,198],"name":"sender_name","page":0,"title":"Supplier Name","value":"Gardiner & Theobald LLP","content":"Gardiner & Theobald LLP"},{"score":0.8280194209455238,"value_type":"text","checks":{},"bbox":[849,192,1041,216],"name":"sender_name","page":0,"title":"Supplier Name","value":"Management Services","content":"Management Services"},{"score":0.8090322562268324,"value_type":"text","checks":{},"bbox":[847,210,987,240],"name":"sender_name","page":0,"title":"Supplier Name","value":"The G1 Building","content":"The G1 Building"},{"score":0.9061501471780855,"value_type":"text","checks":{},"bbox":[849,252,997,276],"name":"sender_addrline","page":0,"title":"Supplier Address","value":"Glasgow G2 1DY","content":"Glasgow G2 1DY"},{"score":0.8939375603096693,"value_type":"text","checks":{},"bbox":[850,234,996,258],"name":"sender_addrline","page":0,"title":"Supplier Address","value":"5 George Square","content":"5 George Square"},{"score":0.9089269274039168,"value_type":"text","checks":{},"bbox":[850,210,986,240],"name":"sender_addrline","page":0,"title":"Supplier Address","value":"The G1 Building","content":"The G1 Building"},{"score":0.9149283164432016,"value_type":"text","checks":{},"bbox":[405,528,587,564],"name":"recipient_name","page":0,"title":"Recipient Name","value":"FIFE COLLEGE","content":"FIFE COLLEGE"},{"score":0.9503238855184294,"value_type":"text","checks":{},"bbox":[404,558,586,594],"name":"recipient_addrline","page":0,"title":"Recipient Address","value":"Pittsburgh Road","content":"Pittsburgh Road"},{"score":0.8900075857129329,"value_type":"text","checks":{},"bbox":[406,588,546,624],"name":"recipient_addrline","page":0,"title":"Recipient Address","value":"Dunfermline","content":"Dunfermline"},{"score":0.9043312765924486,"value_type":"text","checks":{},"bbox":[404,618,534,654],"name":"recipient_addrline","page":0,"title":"Recipient Address","value":"KY11 8DY","content":"KY11 8DY"},{"score":0.8858615447615118,"bbox":[406,1170,438,1200],"name":"tax_details","page":0,"title":"Tax Details","content":[{"score":0.902729751188097,"value_type":"number","checks":{},"bbox":[406,1170,438,1200],"name":"tax_detail_rate","page":0,"title":"Tax Rate","value":"20","content":"20"},{"score":0.8858615447615118,"value_type":"number","checks":{"amount_equations":"good"},"bbox":[967,1170,1077,1206],"name":"tax_detail_tax","page":0,"title":"Tax Amount","value":"5094.80","content":"5,094.80"}]}],"status":"ready"}


BUILD SUCCESSFUL in 1m 1s
2 actionable tasks: 2 executed
```
